@model GasHub.Models.ViewModels.ProductViewModel

@{
    var products = Model.ProductList;
    var companies = Model.companiList;
    var countItem = 0;
    foreach (var company in companies)
    {
        var product = products.FirstOrDefault(x => x.CompanyId == company.Id);
        if (product != null)
        {
            countItem++;
        }
    }
    if (countItem > 3)
    {
        <!-- Food Catagory Section Start -->
        <section class="food-category-section fix section-padding section-bg">
            @* <div class="tomato-shape">
    <img src="~/Users/assets/img/shape/tomato-shape.png" alt="shape-img">
    </div>
    <div class="burger-shape-2">
    <img src="~/Users/assets/img/shape/burger-shape-2.png" alt="shape-img">
    </div> *@
            <div class="container">
                <div class="row">
                    <div class="col-md-7 col-9">
                        <div class="section-title">
                            <span class="wow fadeInUp">crispy, every bite taste</span>
                            <h2 class="wow fadeInUp" data-wow-delay=".3s">Popular Food Items</h2>
                        </div>
                    </div>
                    <div class="col-md-5 ps-0 col-3 text-end wow fadeInUp" data-wow-delay=".5s">
                        <div class="array-button">
                            <button class="array-prev"><i class="far fa-long-arrow-left"></i></button>
                            <button class="array-next"><i class="far fa-long-arrow-right"></i></button>
                        </div>
                    </div>
                </div>
                <div class="swiper food-catagory-slider">
                    <div class="swiper-wrapper" id="products-container">
                        @{
                            
                            foreach (var company in companies)
                            {
                                var product = products.FirstOrDefault(x => x.CompanyId == company.Id);
                                if (product != null)
                                {
                                    <partial name="_productCard" model="product" />
                                }
                            }
                        }
                    </div>
                </div>
            </div>
        </section>
    }
    else
    {
        <!-- Food Catagory Section Start -->
        <section class="food-category-section fix section-padding section-bg">
            @* <div class="tomato-shape">
    <img src="~/Users/assets/img/shape/tomato-shape.png" alt="shape-img">
    </div>
    <div class="burger-shape-2">
    <img src="~/Users/assets/img/shape/burger-shape-2.png" alt="shape-img">
    </div> *@
            <div class="container">
                <div class="row">
                    <div class="col-md-7 col-9">
                        <div class="section-title">
                            <span class="wow fadeInUp">crispy, every bite taste</span>
                            <h2 class="wow fadeInUp" data-wow-delay=".3s">Popular Food Items</h2>
                        </div>
                    </div>
                    <div class="col-md-5 ps-0 col-3 text-end wow fadeInUp" data-wow-delay=".5s">
                        <div class="array-button">
                            <button class="array-prev"><i class="far fa-long-arrow-left"></i></button>
                            <button class="array-next"><i class="far fa-long-arrow-right"></i></button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    @{

                        foreach (var company in companies)
                        {
                            var product = products.FirstOrDefault(x => x.CompanyId == company.Id);
                            if (product != null)
                            {
                                <partial name="_productCard2" model="product" />
                            }
                        }
                    }
                </div>
            </div>
        </section>
    }
}
